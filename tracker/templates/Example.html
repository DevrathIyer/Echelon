<div id = "ProjectTable">
    <table class="bordered z-depth-0">
    <tbody>
        {% for item in Projects %}
            <tr class =  "row">
                <td class = "nopad">
                   <a class = "waves-effect btn-flat" onclick="TOGGLEDIV{{item.Project_ID}}();">{{item.Project_ID}}</a>
               </td>
            </tr>
        {% endfor %}
    </tbody>
</table>
</div>

{% for item in Projects %}
    <script>
        function TOGGLEDIV{{item.Project_ID}}()
        {
            $("#ProjectTable").slideUp("slow", function()
            {
                $('#BreadNav').html('<a id="ProjectBreadcrumb" href="#!" class="breadcrumb">My Projects</a><a href="#!" id = "NewBread" class="breadcrumb">{{item.Project_ID}}</a>');
                $('#DIV{{item.Project_ID}}').slideDown(1000);
                $('ul.tabs').tabs();
            });
        }
    </script>
    <div id = "DIV{{item.Project_ID}}" class = "ProjectDiv">
        <div class="row z-depth-0">
            <div class="col s12" >
                <ul class="tabs" style="color:#5e35b1">
                    <div class="indicator #5e35b1 deep-purple darken-1" style="z-index:1"></div>
                    <li class="tab active" style = "color:#5e35b1 !important;"><a href="#Structure{{item.Project_ID}}">Structure</a></li>
                    <li class="tab"><a href="#Settings{{item.Project_ID}}">Settings</a></li>
                </ul>
            </div>
            <div id="Structure{{item.Project_ID}}" class="col s12">
                Layers: 3
                <ul class = "nostyle">
                    <li>Layer 1: 2</li>
                    <li>Layer 2: 4</li>
                    <li>Layer 1: 1</li>
                </ul>
            </div>
            <div id="Settings{{item.Project_ID}}" class="col s12">
                <a class = "btn-large red hoverable">Delete</a>
            </div>
        </div>
    </div>
{% endfor %}

<script>
    $( document ).ready(function(){
            $(".dropdown-button").dropdown({ hover: false, constrainWidth: false,});
        });
</script>
<!--
{% for item in Projects %}
    <li class = "nostyle">
    <button id = "HIDEBUTTON{{item.Project_ID}}" value='hide/show'>{{item.Project_ID}}</button>
    <div id="DIV{{item.Project_ID}}" class = "ProjectDIV">
        <div id="DIVLAYERCOUNT{{item.ProjectID}}">
            Layers: <input type="text" id="DIVLAYERCOUNTLABEL{{item.Project_ID}}" value={{item.Layers}} readonly="readonly" />
            <button id="DIVLAYERCOUNTUP{{item.Project_ID}}" onclick="setQuantityDIVLAYERCOUNTLABEL{{item.Project_ID}}('up');">+</button>
            <button id="DIVLAYERCOUNTDOWN{{item.Project_ID}}" onclick="setQuantityDIVLAYERCOUNTLABEL{{item.Project_ID}}('down');">-</button>
        </div>
        Neurons Per Layer:
            {% for x in item.Neurons_per_Layer %}
                <div id="DIVNEURONSPERLAYER{{forloop.counter}}{{item.Project_ID}}">
                    Layer {{forloop.counter}}: <input type="text" id="DIVNEURONLAYERLABEL{{forloop.counter}}{{item.Project_ID}}" value={{x}} readonly="readonly" />
                    <button id="DIVNEURONLAYERUP{{forloop.counter}}{{item.Project_ID}}" onclick="setQuantityDIVNEURONLAYER{{forloop.counter}}{{item.Project_ID}}('up');">+</button>
                    <button id="DIVNEURONLAYERDOWN{{forloop.counter}}{{item.Project_ID}}" onclick="setQuantityDIVNEURONLAYER{{forloop.counter}}{{item.Project_ID}}('down');">-</button>
                    Neurons
                    <script>
                        function setQuantityDIVNEURONLAYER{{forloop.counter}}{{item.Project_ID}}(upordown) {
                            var quantity = document.getElementById("DIVNEURONLAYERLABEL{{forloop.counter}}{{item.Project_ID}}");

                            if (DIVNEURONLAYERLABEL{{forloop.counter}}{{item.Project_ID}}.value > 1) {
                                if (upordown == 'up')
                                {
                                    ++document.getElementById("DIVNEURONLAYERLABEL{{forloop.counter}}{{item.Project_ID}}").value;
                                    PROJECTCOUNTEDITFORM{{item.Project_ID}}SUBMIT();
                                }
                                else if (upordown == 'down')
                                {
                                    --document.getElementById("DIVNEURONLAYERLABEL{{forloop.counter}}{{item.Project_ID}}").value;
                                    PROJECTCOUNTEDITFORM{{item.Project_ID}}SUBMIT();
                                }
                            }
                            else if (quantity.value == 1)
                            {
                                if (upordown == 'up')
                                {
                                    ++document.getElementById("DIVNEURONLAYERLABEL{{forloop.counter}}{{item.Project_ID}}").value;
                                    PROJECTCOUNTEDITFORM{{item.Project_ID}}SUBMIT();
                                }
                            }
                            else
                            {
                                document.getElementById("DIVNEURONLAYERLABEL{{forloop.counter}}{{item.Project_ID}}").value=1;
                                PROJECTCOUNTEDITFORM{{item.Project_ID}}SUBMIT();
                            }
                        }
                    </script>
                </div>
            {% endfor %}

            <script>
            jQuery(document).ready(function(){
                jQuery("#HIDEBUTTON{{item.Project_ID}}").on('click', function(event) {
                    jQuery("#DIV{{item.Project_ID}}").toggle('show');
                });
            });

            function setQuantityDIVLAYERCOUNTLABEL{{item.Project_ID}}(upordown) {
                var quantity = document.getElementById("DIVLAYERCOUNTLABEL{{item.Project_ID}}");

                if (DIVLAYERCOUNTLABEL{{item.Project_ID}}.value > 1) {
                    if (upordown == 'up')
                    {
                        ++document.getElementById("DIVLAYERCOUNTLABEL{{item.Project_ID}}").value;
                        PROJECTCOUNTEDITFORM{{item.Project_ID}}SUBMIT();
                    }
                    else if (upordown == 'down')
                    {
                        --document.getElementById("DIVLAYERCOUNTLABEL{{item.Project_ID}}").value;
                        PROJECTCOUNTEDITFORM{{item.Project_ID}}SUBMIT();
                    }
                }
                else if (quantity.value == 1)
                {
                    if (upordown == 'up')
                    {
                        ++document.getElementById("DIVLAYERCOUNTLABEL{{item.Project_ID}}").value;
                        PROJECTCOUNTEDITFORM{{item.Project_ID}}SUBMIT();
                    }
                }
                else
                {
                    document.getElementById("DIVLAYERCOUNTLABEL{{item.Project_ID}}").value=1;
                    PROJECTCOUNTEDITFORM{{item.Project_ID}}SUBMIT();

                }
            }
        </script>
        <button id = "DELETEBUTTON{{item.Project_ID}}" class = 'ButtonDelete' onclick="DELETEPROJECT{{item.Project_ID}}();">Delete</button>
    </div>
<script>
    function DELETEPROJECT{{item.Project_ID}}(){
        if(confirm("Deleting this project will erase the connection between you and your data.\n This CANNOT be undone.\n Are you sure you want to continue?"))
        {
            $.ajax({
            type:'POST',
            url:'{% url 'deleteproject' %}',
            datatype:"json",
            async: true,
            data:{
                csrfmiddlewaretoken:'{{csrf_token}}',
                projectid:'{{item.Project_ID}}',
            },
	        success: function(json){
	            $('#projects').html(json);
	        }
            });
        }
    }
    function PROJECTCOUNTEDITFORM{{item.Project_ID}}SUBMIT(){
        var Neurons = "";
        for(i = 1; i <= $('#DIVLAYERCOUNTLABEL{{item.Project_ID}}').val(); i++)
        {   var iString = i.toString();
            if(i != 1)
            {
                Neurons = Neurons.concat(',');
            }
            if($('#DIVNEURONLAYERLABEL'+iString+'{{item.Project_ID}}').length)
            {
                Neurons = Neurons.concat($('#DIVNEURONLAYERLABEL'+iString+'{{item.Project_ID}}').val());
            }
            else
            {
                Neurons = Neurons.concat('1');
            }

        }
        $.ajax({
            type:'POST',
            url:'{% url 'editproject' %}',
            datatype:"json",
            async: true,
            data:{
                csrfmiddlewaretoken:'{{csrf_token}}',
                layers:$('#DIVLAYERCOUNTLABEL{{item.Project_ID}}').val(),
                projectid:'{{item.Project_ID}}',
                neurons:Neurons,
            },
	        success: function(json){
	            $('#projects').html(json);
	            if("#DIV{{item.Project_ID}}" != "#DIV".concat('{{ProjectID}}'))
                {
                    //jQuery("#DIV{{item.Project_ID}}").toggle('show');
                }
	        }
        });
    }
</script>
        </li>
    {% endfor %}
</ol>

-->