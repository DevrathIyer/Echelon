<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Echelon</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://apis.google.com/js/platform.js?onload=onLoad" async defer></script>
    <meta name="google-signin-client_id" content="867858739826-0j8s1vplsccuqcha9tng77pmrpc49mam.apps.googleusercontent.com">
</head>
<style type="text/css">
 span.bold-red {
    color: red;
    font-weight: bold;
}
</style>
<body>
<a href = "{% url 'credits' %}">Manage Credits</a>
<a onclick="signOut();">Sign out</a>
<form id = "SignOutForm" action="{% url 'signout' %}" method="post">
{% csrf_token %}
</form>
<script>
    function signOut() {
        var auth2 = gapi.auth2.getAuthInstance();
        auth2.signOut().then(function () {
        console.log('User signed out.');
        document.getElementById("SignOutForm").submit();
        });
    }
    function onLoad() {
      gapi.load('auth2', function() {
        gapi.auth2.init();
      });
    }
</script>
<div id="projects">
    {% include 'Example.html' %}
</div>
<button id="AddProject" class="ButtonAddProject" onclick = 'openNav()'>Add Project</button>
<div id="myNav" class="overlay">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <div class="overlay-content">
       Project ID:<br/>
       <input id = 'projectID' type="text"/><br/>
      <span class="bold-red" id="ProjectStatus"></span>
  </div>
</div>
<script>
$(function(){
  $('#projectID').keypress(function(e){
    console.log($('#projectID').val().len > 15);
    if(((e.which > 47 && e.which < 58) || (e.which > 64 && e.which < 91) || (e.which > 96 && e.which < 123)))
    {
    }
    else
    {
      return false;
    }
  });
});
    function Checkproject()
    {
        text = $('#projectID').val();
        $.ajax({
            type:'POST',
            url:'{% url 'checkproject' %}',
            datatype:"json",
            async: true,
            data:{
                csrfmiddlewaretoken:'{{csrf_token}}',
                projectid: text,
            },
	        success: function(json){
	            $('#ProjectStatus').html(json);
	        }
            });
    }
    function openNav()
    {
        document.getElementById("myNav").style.height = "100%";
    }
    function closeNav()
    {
        document.getElementById("myNav").style.height = "0%";
    }
    function AddProject()
    {
        $.ajax({
            type:'POST',
            url:'{% url 'addproject' %}',
            datatype:"json",
            async: true,
            data:{
                csrfmiddlewaretoken:'{{csrf_token}}',
                projectid:'{{item.Project_ID}}',
                layers:'1',
                neurons:'1',
            },
	        success: function(json){
	            $('#projects').html(json);
	        }
            });
    }

</script>
<style>
body {
    margin: 0;
    font-family: 'Lato', sans-serif;
}

.overlay {
    height: 0%;
    width: 100%;
    position: fixed;
    z-index: 1;
    top: 0;
    left: 0;
    background-color: rgb(0,0,0);
    background-color: rgba(0,0,0, 0.9);
    overflow-y: hidden;
    transition: 0.5s;
}

.overlay-content {
    position: relative;
    top: 25%;
    width: 100%;
    text-align: center;
    margin-top: 30px;
}

.overlay a {
    padding: 8px;
    text-decoration: none;
    font-size: 36px;
    color: #818181;
    display: block;
    transition: 0.3s;

}
.overlay a:hover, .overlay a:focus {
    color: #f1f1f1;
}

.overlay .closebtn {
    position: absolute;
    top: 20px;
    right: 45px;
    font-size: 60px;
}

@media screen and (max-height: 450px) {
  .overlay {overflow-y: auto;}
  .overlay a {font-size: 20px}
  .overlay .closebtn {
    font-size: 40px;
    top: 15px;
    right: 35px;
  }
}
</style>
{% load static %}
    <!-- Bootstrap core CSS -->
    <link href="{% static 'tracker/css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- Animate -->
    <link href="{% static 'tracker/css/animate.css' %}" rel="stylesheet">

    <!-- Magnific-popup -->
    <link rel="stylesheet" href="{% static 'tracker/css/magnific-popup.css' %}">

    <!-- Icon-font -->
    <link rel="stylesheet" type="text/css" href="{% static 'tracker/css/ionicons.min.css' %}">

    <!-- Custom styles for this template -->
    <link href="{% static 'tracker/css/style.css' %}" rel="stylesheet">
</body>
</html>